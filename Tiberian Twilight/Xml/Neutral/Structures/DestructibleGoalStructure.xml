<?xml version="1.0" encoding="us-ascii"?>
<AssetDeclaration xmlns="uri:ea.com:eala:asset" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xi="http://www.w3.org/2001/XInclude">
	<Tags></Tags>
	<Includes>
		<Include type="instance" source="DATA:Neutral/Structures/GoalStructure.xml" />
		<Include type="all" source="ART:TB_GoalStructure_Destroyed_SKN.w3x" />
		<Include type="all" source="ART:TB_GoalStructure_Destroyed_SKL.w3x" />
		<Include type="all" source="ART:TB_GoalStructure_Destroyed_ANM.w3x" />
	</Includes>
	<Defines>
		<Define name="NOD_2_2_PROXIMITY_CAPTURE_RADIUS"	value="400.0" />
	</Defines>

	<GameObject
		id="DestructibleGoalStructure"
		inheritFrom="GoalStructure"
		EnergyProduction="0"
		KindOf="-NO_HEALTH_BAR"
		EditorName="NEUTRAL_Struct_Goal_Destructible (Destructible Goal Structure)">
		<Draws>
			<ScriptedModelDraw
				id="ModuleTag_Draw">
				<ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="DYING">
					<Model
						Name="TB_GoalStructure_Destroyed_SKN" />
				</ModelConditionState>
				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="DYING">
					<Animation
						AnimationName="TB_GoalStructure_Destroyed_ANM"
						AnimationMode="ONCE"/>
					<ParticleSysBone
						BoneName="Bone_d01"
						FXParticleSystemTemplate="NODVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d01"
						FXParticleSystemTemplate="NODVehicle_DamageSparks"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d02"
						FXParticleSystemTemplate="NODVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d02"
						FXParticleSystemTemplate="NODVehicle_DamageSparks"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d03"
						FXParticleSystemTemplate="NODVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d03"
						FXParticleSystemTemplate="NODVehicle_DamageSparks"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d04"
						FXParticleSystemTemplate="NODVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d04"
						FXParticleSystemTemplate="NODVehicle_DamageSparks"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d05"
						FXParticleSystemTemplate="NODVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d05"
						FXParticleSystemTemplate="NODVehicle_DamageSparks"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d06"
						FXParticleSystemTemplate="NODVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d06"
						FXParticleSystemTemplate="NODVehicle_DamageSparks"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d07"
						FXParticleSystemTemplate="NODVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d07"
						FXParticleSystemTemplate="NODVehicle_DamageSparks"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d08"
						FXParticleSystemTemplate="NODVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d08"
						FXParticleSystemTemplate="NODVehicle_DamageSparks"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d09"
						FXParticleSystemTemplate="NODVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d09"
						FXParticleSystemTemplate="NODVehicle_DamageSparks"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d10"
						FXParticleSystemTemplate="NODVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d10"
						FXParticleSystemTemplate="NODVehicle_DamageSparks"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d11"
						FXParticleSystemTemplate="NODVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d11"
						FXParticleSystemTemplate="NODVehicle_DamageSparks"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d12"
						FXParticleSystemTemplate="NODVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d12"
						FXParticleSystemTemplate="NODVehicle_DamageSparks"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d13"
						FXParticleSystemTemplate="NODVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d13"
						FXParticleSystemTemplate="NODVehicle_DamageSparks"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d14"
						FXParticleSystemTemplate="NODVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d14"
						FXParticleSystemTemplate="NODVehicle_DamageSparks"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d15"
						FXParticleSystemTemplate="NODVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d15"
						FXParticleSystemTemplate="NODVehicle_DamageSparks"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d16"
						FXParticleSystemTemplate="NODVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="Bone_d16"
						FXParticleSystemTemplate="NODVehicle_DamageSparks"
						FollowBone="true" />
				</AnimationState>
			</ScriptedModelDraw>
		</Draws>
		<Behaviors>
			<ProximityCaptureUpdate
				xmlns="uri:ea.com:eala:asset"
				id="ModuleTag_ProximityCaptureUpdate"
				CaptureRadius="=$NOD_2_2_PROXIMITY_CAPTURE_RADIUS"
				NeutralCapturingDurationInSec="20s"
				OwningCapturingDurationInSec="30s">
				<CapturingObjectFilter
					Rule="ANY"
					Include="INFANTRY VEHICLE CRAWLER OBJECTIVE_STRUCTURE"
					Exclude="AIRCRAFT"
					StatusBitFlagsExclude="BURROWING AIRBORNE_TARGET CLONED NOT_ABLE_TO_CAPTURE ">
					<ExcludeThing>GoalStructure</ExcludeThing>
					<ExcludeThing>MonumentShieldGenerator</ExcludeThing>
					<ExcludeThing>GDIScoutDrone</ExcludeThing>
					<ExcludeThing>NODObeliskOfLife</ExcludeThing>
				</CapturingObjectFilter>
				<ProximityCaptureModelCondition
					ModelConditionsToSetWhenCaptured="USER_1"
					RequiredFaction="GDI">
				</ProximityCaptureModelCondition>
				<ProximityCaptureModelCondition
					ModelConditionsToSetWhenCaptured="USER_2"
					RequiredFaction="NOD">
				</ProximityCaptureModelCondition>
				<ProximityCaptureModelCondition
					ModelConditionsToClearWhenCaptured="USER_1 USER_2"
					RequiredFaction="Neutral">
				</ProximityCaptureModelCondition>
			</ProximityCaptureUpdate>

			<CreateObjectDie
				id="ModuleTag_CreateObjectDie"
				CreationList="DestructibleGoalStructure_DestroyedOCL">
				<DieMuxData
					DeathTypes="ALL" />
			</CreateObjectDie>

			<FXListBehavior
				id="ModuleTag_FXList">
				<DieMuxData
					DeathTypes="ALL" />
				<Event
					Index="onDeath"
					FX="FX_GoalStructure_Explode" />
			</FXListBehavior>

			<!-- Override SlowDeath in BaseTechStructure -->
			<SlowDeath
				id="ModuleTag_Death"
				SinkDelay="1s"
				SinkRate="2.5"
				DestructionDelay="8.1s">
				<DieMuxData
					DeathTypes="ALL" />
			</SlowDeath>

		</Behaviors>
		<Body>
			<ImmortalBody
				id="ModuleTag_ImmortalBody"
				xi:joinAction="Remove" />

			<ActiveBody
				id="ModuleTag_Body"
				InitialHealth="1500.0"
				MaxHealth="1500.0"/>
		</Body>
	</GameObject>

	<!-- OCL -->
	<ObjectCreationList
		id="DestructibleGoalStructure_DestroyedOCL">
		<OCLModule>
			<Modules>
				<ObjectList>
					<ObjectTemplate>GDIDebrisMedium_Collapse</ObjectTemplate>
					<ObjectOffset x="0.0" y="0.0" z="0.0" />
					<SubModules>
						<CreateObject/>
						<InheritVelocityFromParent/>
						<ScaleVelocity
							Scale="20.0"/>
						<FlingObject
							MinForceMagnitude="1.0"
							MaxForceMagnitude="3.0"
							MinForcePitch="75d"
							MaxForcePitch="75d"/>
					</SubModules>
				</ObjectList>
			</Modules>
		</OCLModule>
	</ObjectCreationList>	
	
</AssetDeclaration>