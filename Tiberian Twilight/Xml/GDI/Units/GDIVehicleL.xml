<?xml version="1.0" encoding="utf-8"?>
<AssetDeclaration xmlns="uri:ea.com:eala:asset" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xai="uri:ea.com:eala:asset:instance">
	<Tags></Tags>
  <!--Name: GDI Vehicle L / GDI Mastodon -->
	<Includes>
		 
		<!-- Art Includes -->
		<Include type="all" source="ART:GUVehicleL_SKN.w3x" />
		<Include type="all" source="ART:GUVehicleL_SKL.w3x" />
		<Include type="all" source="ART:GUVehicleL_ABTA.w3x" />
		<Include type="all" source="ART:GUVehicleL_AIDA.w3x" />
		<Include type="all" source="ART:GUVehicleL_ATKA.w3x" />
		<Include type="all" source="ART:GUVehicleL_BIDA.w3x" />
		<Include type="all" source="ART:GUVehicleL_BATA.w3x" />
		<Include type="all" source="ART:GUVehicleL_DIEA.w3x" />
		<Include type="all" source="ART:GUVehicleL_DSEL.w3x" />
		<Include type="all" source="ART:GUVehicleL_GTPA.w3x" />
		<Include type="all" source="ART:GUVehicleL_MOVA.w3x" />
		<Include type="all" source="ART:GUVehicleL_MOVD.w3x" />
		<Include type="all" source="ART:GUVehicleL_MOVD2.w3x" />
		<Include type="all" source="ART:GUVehicleL_TRNR.w3x" />
		<Include type="all" source="ART:GUVehicleL_TRNL.w3x" />
		<Include type="all" source="ART:GUVehicleL_TRNRW.w3x" />
		<Include type="all" source="ART:GUVehicleL_TRNLW.w3x" />
		<Include type="all" source="ART:GUVehicleL_BLDA.w3x" />
		<Include type="all" source="ART:FXTracerGDI.xml" />
		<Include type="all" source="ART:FXRailGunCoreDistortion.xml" />
		<Include type="all" source="ART:FXRailGunCoreMask.xml" />
		<Include type="all" source="ART:FXSonicProjectile.w3x" />
		
		<!-- Other Includes -->
		<Include type="instance" source="DATA:GlobalData/ExperienceLevels.xml" />
		<Include type="instance" source="DATA:PlayerProgression/ParticipationValues.xml" />
		<Include type="instance" source="DATA:GlobalData/Weapon.xml" />
		<Include type="instance" source="DATA:GDI/Props/GDIVehicleLProps.xml" />
		<Include type="instance" source="DATA:GDI/Props/GDIBlastProjectiles.xml" />
		<Include type="instance" source="DATA:UI/HealthBarTemplates.xml" />
		
		<!-- Base Object -->
		<Include type="instance" source="DATA:BaseObjects/BaseHeavyVehicle.xml" />
	</Includes>

	<AttributeModifier
		id="AttributeModifier_GDIVehicleL_HoldFire_Stance_Modifier"
		Category="NONE"
		ModelConditionsSet="USER_1" >
	</AttributeModifier>	

	<StanceTemplate id="GDIVehicleLStances">
		<StanceDefinition Type="AGGRESSIVE" />
		<StanceDefinition Type="GUARD" />
		<StanceDefinition Type="HOLD_POSITION" />
		<StanceDefinition Type="HOLD_FIRE" AttributeModifier="AttributeModifier_GDIVehicleL_HoldFire_Stance_Modifier" />
	</StanceTemplate>

	<GameObject
		id="GDIVehicleL"
		inheritFrom="BaseHeavyVehicle"
		HealthBoxHeightOffset="44"
		HealthBar="Large"
		SubGroupPriority="100"
		SelectPortrait="Portrait_GDI_Vehicle_L"
		ButtonImage="Btn_GDI_Vehicle_L"
		Side="GDI"
		ParticipationValue="=$GDIVEHICLEL_PARTICIPATION_VALUE"
		TransportSlotCount="1"		
		BuildTime="20"
		PathPriority="90"
		CommandSet="GDIVehicleLCommandSet"
		CommandPoints="=$GDI_VEHICLE_L_COMMANDPOINT_COST"
		KindOf="+VALID_TARGET_FOR_C4 +CRUSH_CRUSHABLE_BUILDINGS +SIEGE_WEAPON +MEGA_UNIT +HAS_BUILDING_DESTRUCT_BEHAVIOR +MULTIPLE_WEAPON_CATEGORIES +SPAWNS_HUSK"
		ThreatLevel="10"
		WeaponCategory="BLAST"
		VoicePriority="220"
		EditorName="GDI_O3_Heavy_Blast(Mastodon)"
		EditorSorting="UNIT"
		Description="Desc:GDIVehicleL"
		TypeDescription="Type:GDIVehicleL">
		<ObjectResourceInfo>
			<BuildCost Account="=$ACCOUNT_CREDIT" Amount="0"/>
		</ObjectResourceInfo>
		<DisplayName
			xai:joinAction="Replace" xmlns:xai="uri:ea.com:eala:asset:instance">Name:GDIVehicleL</DisplayName>
		<GameDependency>
			<NeededUpgrade>Upgrade_Tech_Up_Rank2</NeededUpgrade>
		</GameDependency>
		<LocomotorSet
			Locomotor="GDIVehicleLLocomotor"
			Condition="NORMAL"
			Speed="60.0" />
		<SkirmishAIInformation
			UnitBuilderStandardCombatUnit="true" />
		<Draws>
			<ScriptedModelDraw
				id="ModuleTag_Draw"
				OkToChangeModelColor="true"
				ExtraPublicBone="BONE_CONTACT_POINT_01 BONE_CONTACT_POINT_02 BONE_CONTACT_POINT_03 BONE_CONTACT_POINT_04 BONE_CONTACT_POINT_05 BONE_CONTACT_POINT_06 
					BONE_CONTACT_POINT_07 BONE_CONTACT_POINT_08 BONE_CONTACT_POINT_09 BONE_CONTACT_POINT_10 BONE_CONTACT_POINT_11 BONE_CONTACT_POINT_12 T1_cannon01 T1_cannon02"
				InitialRecoilSpeed="16.0"
				MaxRecoilDistance="10.0"
				RecoilDamping="2.0"
				RecoilSettleSpeed="3.0"
				Options="RENDER_BUFF_EFFECTS">
				<ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
					<Model
						Name="GUVehicleL_SKN" />
					<!-- main gun -->
					<Turret
						TurretNameKey="b_turret01"
						TurretPitch="b_pitch01"
						TurretID="1" />
					<!-- The Guns that fire in quick succession -->
					<WeaponFireFXBone
						WeaponSlotID="1"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon01" />
					<WeaponLaunchBone
						WeaponSlotID="1"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon01" />
					<WeaponRecoilBone
						WeaponSlotID="1"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon01" />
					<!-- Does this weapon need all these slots? Changed all slots to 1
						Yes, or the sweep weapon won't fire properly -->
					
					<WeaponFireFXBone
						WeaponSlotID="2"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon02" />
					<WeaponLaunchBone
						WeaponSlotID="2"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon02" />
					<WeaponRecoilBone
						WeaponSlotID="2"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon02" />

					<WeaponFireFXBone
						WeaponSlotID="1"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon01" />
					<WeaponLaunchBone
						WeaponSlotID="1"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon01" />
					<WeaponRecoilBone
						WeaponSlotID="1"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon01" />
<!--
					<WeaponFireFXBone
						WeaponSlotID="2"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon02" />
					<WeaponLaunchBone
						WeaponSlotID="2"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon02" />
					<WeaponRecoilBone
						WeaponSlotID="2"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon02" />
					
					<WeaponFireFXBone
						WeaponSlotID="3"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon03" />
					<WeaponLaunchBone
						WeaponSlotID="3"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon03" />
					<WeaponRecoilBone
						WeaponSlotID="3"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon03" />

					<WeaponFireFXBone
						WeaponSlotID="4"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon04" />
					<WeaponLaunchBone
						WeaponSlotID="4"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon04" />
					<WeaponRecoilBone
						WeaponSlotID="4"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="T1_cannon04" />-->

					<!-- left missile pod -->
					<Turret
						TurretNameKey="b_turret06"
						TurretID="2" />
					<WeaponFireFXBone
						WeaponSlotID="2"
						WeaponSlotType="SECONDARY_WEAPON"
						BoneName="AA_L_" />
					<WeaponLaunchBone
						WeaponSlotID="2"
						WeaponSlotType="SECONDARY_WEAPON"
						BoneName="AA_L_" />
					<!-- right missile pod -->
					<Turret
						TurretNameKey="b_turret07"
						TurretID="3" />
					<WeaponFireFXBone
						WeaponSlotID="3"
						WeaponSlotType="SECONDARY_WEAPON"
						BoneName="AA_R_" />
					<WeaponLaunchBone
						WeaponSlotID="3"
						WeaponSlotType="SECONDARY_WEAPON"
						BoneName="AA_R_" />


					<!-- Depth charge front left -->
					<WeaponLaunchBone
						WeaponSlotType="TERTIARY_WEAPON"
						WeaponSlotID="10"
						BoneName="DpthChargeL_01"/>
					<WeaponFireFXBone
						WeaponSlotID="10"
						WeaponSlotType="TERTIARY_WEAPON"
						BoneName="DpthChargeL_01" />
					<!-- Depth charge rear left -->
					<WeaponLaunchBone
						WeaponSlotType="TERTIARY_WEAPON"
						WeaponSlotID="11"
						BoneName="DpthChargeL_02"/>
					<WeaponFireFXBone
						WeaponSlotID="11"
						WeaponSlotType="TERTIARY_WEAPON"
						BoneName="DpthChargeL_02" />
					<!-- Depth charge front right -->
					<WeaponLaunchBone
						WeaponSlotType="TERTIARY_WEAPON"
						WeaponSlotID="12"
						BoneName="DpthChargeR_01"/>
					<WeaponFireFXBone
						WeaponSlotID="12"
						WeaponSlotType="TERTIARY_WEAPON"
						BoneName="DpthChargeR_01" />
					<!-- Depth charge rear right -->
					<WeaponLaunchBone
						WeaponSlotType="TERTIARY_WEAPON"
						WeaponSlotID="13"
						BoneName="DpthChargeR_02"/>
					<WeaponFireFXBone
						WeaponSlotID="13"
						WeaponSlotType="TERTIARY_WEAPON"
						BoneName="DpthChargeR_02" />
				</ModelConditionState>

				<ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="REALLYDAMAGED">
					<Model
						Name="GUVehicleL_SKN" />
					<ParticleSysBone
						BoneName="BONE_CONTACT_POINT_07"
						FXParticleSystemTemplate="GDIVehicleL_DamageFlare"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="BONE_CONTACT_POINT_07"
						FXParticleSystemTemplate="GDIVehicleL_DamageHitEmbers"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="BONE_CONTACT_POINT_07"
						FXParticleSystemTemplate="GDIVehicle_DamageFire"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="BONE_CONTACT_POINT_08"
						FXParticleSystemTemplate="GDIVehicleL_DamageFlare"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="BONE_CONTACT_POINT_08"
						FXParticleSystemTemplate="GDIVehicleL_DamageHitEmbers"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="BONE_CONTACT_POINT_08"
						FXParticleSystemTemplate="GDIVehicle_DamageFire"
						FollowBone="true" />
				</ModelConditionState>
				
				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="FORMATION_PREVIEW"
					Flags="RESTART_ANIM_WHEN_COMPLETE">
					<Animation
						AnimationName="GUVehicleL_AIDA"
						AnimationMode="ONCE"
						AnimationBlendTime="15"	/>
						<Script>
									CurDrawableHideSubObjectPermanently( "UPGRADE" )
									CurDrawableHideSubObjectPermanently( "GUN_UPGRADE" )
						</Script>
				</AnimationState>

				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="COMING_OUT_OF_FACTORY"
					StateName="STATE_built">
					<Animation
						AnimationName="GUVehicleL_BLDA"
						AnimationBlendTime="0"
						AnimationMode="ONCE" />
				</AnimationState>

				<AnimationState
					ParseCondStateType="PARSE_DEFAULT"
					Flags="RESTART_ANIM_WHEN_COMPLETE"
					StateName="STATE_bored">
					<Animation
						AnimationName="GUVehicleL_BIDA"
						AnimationMode="ONCE"
						AnimationBlendTime="15"
						AnimationPriority="10" />
					<Script>
						Prev = CurDrawablePrevAnimationState()
						if Prev == "" or Prev == "STATE_bored" or Prev == "TRANS_DeselectedToIdle" then
						-- do nothing, pick next bored anim
						elseif Prev == "STATE_Deselected" then
						CurDrawableSetTransitionAnimState("TRANS_DeselectedToIdle")
						else
						CurDrawableSetTransitionAnimState("STATE_Deselected")
						end
					</Script>
				</AnimationState>

				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="DYING">
					<Animation
						AnimationName="GUVehicleL_DIEA"
						AnimationMode="ONCE" />

				</AnimationState>

				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="RECYCLED">
					<Animation
						AnimationName="GUVehicleL_BIDA"
						AnimationMode="LOOP"
						AnimationBlendTime="15" />
				</AnimationState>

				<!-- being fixed by engineer from being a husk -->
				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="USER_5">
					<Animation
						AnimationName="GUVehicleL_GTPA"
						AnimationBlendTime="0"
						AnimationMode="ONCE" />
				</AnimationState>

				<AnimationState
				ParseCondStateType="PARSE_NORMAL"
				ConditionsYes="TURN_RIGHT_HIGH_SPEED"
				Flags="MAINTAIN_FRAME_ACROSS_STATES">
					<Animation
						AnimationName="GUVehicleL_TRNRW"
						AnimationMode="LOOP"
						AnimationBlendTime="10"
						AnimationSpeedFactorMin="1.8"
						AnimationSpeedFactorMax="1.8" />
					<FXEvent
						Frame="32"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rffoot01" />
					<FXEvent
						Frame="4"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rbfoot01" />
					<FXEvent
						Frame="27"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rbfoot02" />
					<FXEvent
						Frame="5"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rffoot02" />
				</AnimationState>

				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="TURN_LEFT_HIGH_SPEED"
					Flags="MAINTAIN_FRAME_ACROSS_STATES">
					<Animation
						AnimationName="GUVehicleL_TRNLW"
						AnimationMode="LOOP"
						AnimationBlendTime="10"
						AnimationSpeedFactorMin="1.8"
						AnimationSpeedFactorMax="1.8"/>
					<FXEvent
						Frame="32"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rffoot01" />
					<FXEvent
						Frame="4"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rbfoot01" />
					<FXEvent
						Frame="27"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rbfoot02" />
					<FXEvent
						Frame="5"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rffoot02" />
				</AnimationState>

				<AnimationState
				ParseCondStateType="PARSE_NORMAL"
				ConditionsYes="TURN_RIGHT">
					<Animation
						AnimationName="GUVehicleL_TRNR"
						AnimationMode="LOOP"
						AnimationBlendTime="10"
						AnimationSpeedFactorMin="1.5"
						AnimationSpeedFactorMax="1.5"/>
					<FXEvent
						Frame="32"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rffoot01" />
					<FXEvent
						Frame="4"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rbfoot01" />
					<FXEvent
						Frame="27"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rbfoot02" />
					<FXEvent
						Frame="5"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rffoot02" />
				</AnimationState>

				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="TURN_LEFT">
					<Animation
						AnimationName="GUVehicleL_TRNL"
						AnimationMode="LOOP"
						AnimationBlendTime="10"
						AnimationSpeedFactorMin="1.5"
						AnimationSpeedFactorMax="1.5"/>
					<FXEvent
						Frame="32"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rffoot01" />
					<FXEvent
						Frame="4"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rbfoot01" />
					<FXEvent
						Frame="27"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rbfoot02" />
					<FXEvent
						Frame="5"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rffoot02" />
				</AnimationState>
				
				<AnimationState
						ParseCondStateType="PARSE_NORMAL"
						Flags="RESTART_ANIM_WHEN_COMPLETE"
						ConditionsYes="MOVING BACKING_UP REALLYDAMAGED">
					<Animation
						AnimationName="GUVehicleL_MOVD"
						AnimationMode="ONCE_BACKWARDS"
						AnimationBlendTime="10"
						Distance="190" />
					<Animation
						AnimationName="GUVehicleL_MOVD2"
						AnimationMode="ONCE_BACKWARDS"
						AnimationBlendTime="10"
						Distance="190" />
						
					<FXEvent
						Frame="32"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rffoot01" />
					<FXEvent
						Frame="4"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rbfoot01" />
					<FXEvent
						Frame="27"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rbfoot02" />
					<FXEvent
						Frame="5"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rffoot02" />
				</AnimationState>

				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					Flags="RESTART_ANIM_WHEN_COMPLETE"
					ConditionsYes="MOVING BACKING_UP DAMAGED">
					<Animation
						AnimationName="GUVehicleL_MOVD"
						AnimationMode="ONCE_BACKWARDS"
						AnimationBlendTime="10"
						Distance="190" />
					<Animation
						AnimationName="GUVehicleL_MOVD2"
						AnimationMode="ONCE_BACKWARDS"
						AnimationBlendTime="10"
						Distance="190" />
						
					<FXEvent
						Frame="32"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rffoot01" />
					<FXEvent
						Frame="4"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rbfoot01" />
					<FXEvent
						Frame="27"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rbfoot02" />
					<FXEvent
						Frame="5"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rffoot02" />
				</AnimationState>

				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					Flags="RESTART_ANIM_WHEN_COMPLETE"
					ConditionsYes="MOVING BACKING_UP">
					<Animation
						AnimationName="GUVehicleL_MOVA"
						AnimationMode="ONCE_BACKWARDS"
						AnimationBlendTime="3" 
						Distance="295"/>
					
					<FXEvent
					  Frame="32"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rffoot01" />
					<FXEvent
					  Frame="4"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rbfoot01" />
					<FXEvent
					  Frame="27"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rbfoot02" />
					<FXEvent
					  Frame="5"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rffoot02" />
					<Script>
						Prev = CurDrawablePrevAnimationState()
						if Prev == "STATE_built" then
						CurDrawableSetTransitionAnimState("TRANS_built")
						end
					</Script>
				</AnimationState>

				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					Flags="RESTART_ANIM_WHEN_COMPLETE"
					ConditionsYes="MOVING REALLYDAMAGED">
					<Animation
						AnimationName="GUVehicleL_MOVD"
						AnimationMode="LOOP"
						AnimationBlendTime="10"
						Distance="190" />
					<Animation
						AnimationName="GUVehicleL_MOVD2"
						AnimationMode="LOOP"
						AnimationBlendTime="10"
						Distance="190" />
						
					<FXEvent
						Frame="32"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rffoot01" />
					<FXEvent
						Frame="4"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rbfoot01" />
					<FXEvent
						Frame="27"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rbfoot02" />
					<FXEvent
						Frame="5"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rffoot02" />
				</AnimationState>

				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					Flags="RESTART_ANIM_WHEN_COMPLETE"
					ConditionsYes="MOVING DAMAGED">
					<Animation
						AnimationName="GUVehicleL_MOVD"
						AnimationMode="LOOP"
						AnimationBlendTime="10"
						Distance="190" />
					<Animation
						AnimationName="GUVehicleL_MOVD2"
						AnimationMode="LOOP"
						AnimationBlendTime="10"
						Distance="190" />
					<FXEvent
						Frame="32"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rffoot01" />
					<FXEvent
						Frame="4"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rbfoot01" />
					<FXEvent
						Frame="27"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rbfoot02" />
					<FXEvent
						Frame="5"
						FireWhenSkipped="true"
						Effect="FX_GDIVehicleLFP"
						Bone="rffoot02" />
				</AnimationState>

				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					Flags="RESTART_ANIM_WHEN_COMPLETE"
					ConditionsYes="MOVING">
					<Animation
						AnimationName="GUVehicleL_MOVA"
						AnimationMode="LOOP"
						AnimationBlendTime="3" 
						Distance="295"/>
					
					<FXEvent
					  Frame="20"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rffoot01" />
					<FXEvent
					  Frame="40"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rbfoot01" />
					<FXEvent
					  Frame="20"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rbfoot02" />
					<FXEvent
					  Frame="40"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rffoot02" />

					<FXEvent
					  Frame="60"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rffoot01" />
					<FXEvent
					  Frame="80"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rbfoot01" />
					<FXEvent
					  Frame="60"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rbfoot02" />
					<FXEvent
					  Frame="80"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rffoot02" />

					<FXEvent
					  Frame="100"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rffoot01" />
					<FXEvent
					  Frame="120"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rbfoot01" />
					<FXEvent
					  Frame="100"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rbfoot02" />
					<FXEvent
					  Frame="120"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rffoot02" />

					<FXEvent
					  Frame="140"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rffoot01" />
	
					<FXEvent
					  Frame="140"
					  FireWhenSkipped="true"
					  Effect="FX_GDIVehicleLFP"
					  Bone="rbfoot02" />

					<Script>
						Prev = CurDrawablePrevAnimationState()
						if Prev == "STATE_built" then
						CurDrawableSetTransitionAnimState("TRANS_built")
						end
					</Script>
				</AnimationState>

				<!--
				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="RELOADING_A">
					<Animation
						AnimationName="GUVehicleL_AIDA"
						AnimationMode="LOOP" />
				</AnimationState>
-->
				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="FIRING_A">
					<Animation
						AnimationName="GUVehicleL_ATKA"
						AnimationMode="ONCE"
						AnimationBlendTime="5" />
				</AnimationState>

				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="SELECTED"
					StateName="STATE_Selected">
					<Animation
						AnimationName="GUVehicleL_AIDA"
						AnimationMode="LOOP"
						AnimationBlendTime="10" />
					<Script>
						Prev = CurDrawablePrevAnimationState()
						if Prev == "STATE_bored" or Prev == "TRANS_DeselectedToIdle" then
						CurDrawableSetTransitionAnimState("TRANS_IdleToSelected")
						end
					</Script>
				</AnimationState>

				<!-- TRANSITIONS -->
				<AnimationState
					ParseCondStateType="PARSE_TRANSITION"
					StateName="TRANS_built">
					<Animation
						AnimationName="GUVehicleL_BLDA"
						AnimationBlendTime="0"
						AnimationMode="ONCE"></Animation>
				</AnimationState>

				<AnimationState
					ParseCondStateType="PARSE_TRANSITION"
					StateName="TRANS_DeselectedToIdle">
					<Animation
						AnimationName="GUVehicleL_ABTA"
						AnimationMode="ONCE"
						AnimationBlendTime="10" />
				</AnimationState>

				<AnimationState
					ParseCondStateType="PARSE_TRANSITION"
					StateName="TRANS_IdleToSelected">
					<Animation
						AnimationName="GUVehicleL_BATA"
						AnimationMode="ONCE"
						AnimationBlendTime="5"
						AnimationSpeedFactorMin="0.9"
						AnimationSpeedFactorMax="1.1" />
				</AnimationState>

				<AnimationState
					ParseCondStateType="PARSE_TRANSITION"
					StateName="STATE_Deselected">
					<Animation
						AnimationName="GUVehicleL_DSEL"
						AnimationMode="ONCE"
						AnimationBlendTime="10" />
				</AnimationState>

                <ProceduralAnimationState
                    ConditionsYes="USER_3" 
                    SourceBoneNameKey="PROC_BONE_R"
                    TargetBoneNameKey="B_UPGRD_POS_R"
                    AnimationDuration="4s"
                    Translation="true">
                </ProceduralAnimationState>

                <ProceduralAnimationState
                    ConditionsYes="USER_3" 
                    SourceBoneNameKey="PROC_BONE_L"
                    TargetBoneNameKey="B_UPGRD_POS_L"
                    AnimationDuration="4s"
                    Translation="true">
                </ProceduralAnimationState>

            </ScriptedModelDraw>
		</Draws>

		<Behaviors>
			<WeaponSetUpdate
				id="ModuleTag_WeaponSetUpdate">
				<!-- main gun -->
				<WeaponSlotTurret
					ID="1">
					<Weapon
						Ordering="PRIMARY_WEAPON"
						Template="GDIVehicleLSweepWeapon" />
					<TurretSettings
						TurretTurnRate="150"
						MaxDeflectionAntiClockwise="90d"
						MaxDeflectionClockwise="90d"
						TurretPitchRate="20"
						AllowsPitch="true"
						MinimumPitch="-15d"
						MinIdleScanTime="1.0s"
						MaxIdleScanTime="5.0s"
						MinIdleScanAngle="0.0"
						MaxIdleScanAngle="90.0"
						IdleRequiresModelConditions="MOVING SELECTED">
						<TurretAITargetChooserData
							CanPickDynamicTargets="true"
							CanAcquireDynamicIfAssignedOutOfRange="true" />
					</TurretSettings>
				</WeaponSlotTurret>

				<!-- left missile turret -->
				<WeaponSlotTurret
					ID="2"
					Flags="CANNOT_ORIENT_UNIT">
					<Weapon
						Ordering="SECONDARY_WEAPON"
						Template="GDIVehicleLRocketWeapon" />
					<TurretSettings
						TurretTurnRate="300"
						MaxDeflectionAntiClockwise="180d"
						MaxDeflectionClockwise="180d"
						MinIdleScanTime="1.0s"
						MaxIdleScanTime="5.0s"
						MinIdleScanAngle="0.0"
						MaxIdleScanAngle="90.0"
						NaturalTurretAngle="75d"
						IdleRequiresModelConditions="MOVING SELECTED">
						<TurretAITargetChooserData
							CanPickDynamicTargets="true"
							CanAcquireDynamicIfAssignedOutOfRange="true" />
					</TurretSettings>
				</WeaponSlotTurret>
								
				<!-- right missile turret -->
				<WeaponSlotTurret
					ID="3"
					Flags="CANNOT_ORIENT_UNIT">
					<Weapon
						Ordering="SECONDARY_WEAPON"
						Template="GDIVehicleLRocketWeapon" />
					<TurretSettings
						TurretTurnRate="300"
						MaxDeflectionAntiClockwise="180d"
						MaxDeflectionClockwise="180d"
						MinIdleScanTime="1.0s"
						MaxIdleScanTime="5.0s"
						MinIdleScanAngle="0.0"
						MaxIdleScanAngle="90.0"
						NaturalTurretAngle="-75d"
						IdleRequiresModelConditions="MOVING SELECTED">
						<TurretAITargetChooserData
							CanPickDynamicTargets="true"
							CanAcquireDynamicIfAssignedOutOfRange="true" />
					</TurretSettings>
				</WeaponSlotTurret> 
			</WeaponSetUpdate>

			<StoredResourceBehavior
				 id="SalvageCollectionBehavior"
				 ShowInUI="false">
				<ResourceInfo
					Account="=$ACCOUNT_SALVAGE"
					Amount="2" />
				<ResourceUpgradeEffect
					RequiredResourceAmount="1"
					GrantObjectModifier="Modifier_GenericCoreUpgradeLevel1" />
				<ResourceUpgradeEffect
					RequiredResourceAmount="2"
					GrantObjectModifier="Modifier_GenericCoreUpgradeLevel2" />
			</StoredResourceBehavior>
			
			<!-- Spawn Debris as this unit takes damage-->
			<BuildingDestructionBehavior
				id="ModuleTag_BuildingDestruction">
				<DieMuxData
					DeathTypes="ALL" />
				<Item
					BonePrefix="BONE_CONTACT_POINT_"
					CreationObject="GDIVehicleL_Debris"
					FlingVelocity="200.0"
					FX="FX_GDIVehicleL_Damage"/> 
			</BuildingDestructionBehavior>

			<!-- dying, spawn a husk -->
			<CreateObjectDie
				id="ModuleTag_CreateObjectDie"
				CreationList="OCL_GDIVehicleLDie">
				<DieMuxData
					DeathTypes="ALL"
					DeathTypesForbidden="SUICIDED SLAUGHTERED" />
				<UpgradeRequired>Upgrade_BackupSystems</UpgradeRequired>
			</CreateObjectDie>
			<!-- If we have backup systems, then spawn husk on neutral team -->
			<CreateObjectDie
				id="ModuleTag_CreateObjectDieNoBackup"
				CreationList="OCL_GDIVehicleLDieNoBackup">
				<DieMuxData
					DeathTypes="ALL"
					DeathTypesForbidden="SUICIDED SLAUGHTERED" />
				<UpgradeForbidden>Upgrade_BackupSystems</UpgradeForbidden>
			</CreateObjectDie>
			
			<!-- No husk, just debris -->
			<CreateObjectDie
				id="ModuleTag_CreateObjectDieNoHusk"
				CreationList="OCL_GDIVehicleLDebris">
				<DieMuxData
					DeathTypes="SUICIDED SLAUGHTERED" />
			</CreateObjectDie>
			<DestroyDie
				id="ModuleTag_DestroyDie">
				<DieMuxData
					DeathTypes="ALL" />
			</DestroyDie>
			
			<FXListBehavior
				id="ModuleTag_FXList">
				<DieMuxData
					DeathTypes="ALL" />
				<Event
					Index="onDeath"
					FX="FX_GDIVehicleLExplodeWithVoice" />
			</FXListBehavior>
			<AutoHealBehavior
				id="Upgrade_HeroicHeal_01"
				InitiallyActive="false"
				HealOnlyIfNotInCombat="true"
				HealOnlyIfNotUnderAttack="true"
				StartHealingDelay="3s"
				HealingAmount="2"
				HealingDelay="1s">
				<ObjectStatusValidation
					ForbiddenStatus="DISABLED_FOR_RECYCLE" />
				<TriggeredBy>Upgrade_Veterancy_HEROIC</TriggeredBy>
			</AutoHealBehavior>
			<StatusBitsUpgrade
				id="ModuleTag_VeterancyUpgrade"
				StatusToSet="WEAPON_UPGRADED_02">
				<TriggeredBy>Upgrade_Veterancy_HEROIC</TriggeredBy>
			</StatusBitsUpgrade>
			
			<FireWeaponCollide
				id="ModuleTag_FireWeaponCollide"
				CollideWeapon="GDIVehicleLBuildingCollideWeapon"
				IndividualTargetDelay="0.5s">
				<ObjectFilter
					Rule="ANY"
					Include="STRUCTURE"
					Relationship="ENEMIES"/>
			</FireWeaponCollide>
			<StancesBehavior
				id="ModuleTag_Stance"
				StanceTemplate="GDIVehicleLStances" />
			
			<WeaponSweepBehavior
				id="ModuleTag_WeaponSweep"
				NumFiresPerSweep="4"
				DistanceBetweenEachFiring="100.0"
				DelayBetweenEachFiring="0.2s"
				WeaponSweepOptions="FIRE_EACH_WEAPON_IN_SUCCESSION CONFORM_TO_TERRAIN">
				<WeaponToFire
					WeaponName="GDIVehicleLCannonWeapon"
					SlotType="PRIMARY_WEAPON"
					SlotID="1" />
				<WeaponToFire
					WeaponName="GDIVehicleLCannonWeapon"
					SlotType="PRIMARY_WEAPON"
					SlotID="2" />
				<WeaponToFire
					WeaponName="GDIVehicleLCannonWeapon"
					SlotType="PRIMARY_WEAPON"
					SlotID="1" />
				<WeaponToFire
					WeaponName="GDIVehicleLCannonWeapon"
					SlotType="PRIMARY_WEAPON"
					SlotID="2" />
			</WeaponSweepBehavior>

			
			<!-- //////////////////////////////////// -->
			<!--		The Depth Charges Special Power		-->
			<!-- //////////////////////////////////// -->
			<SpecialPower
				id="ModuleTag_FireDepthCharges"
				SpecialPowerTemplate="SpecialPower_GDIVehicleLDepthCharges"
				UpdateModuleStartsAttack="true"
				AttributeModifierRange="5"
				AttributeModifierAffectsSelf="true">
				<RestrictedAttributeModifier
					AttributeModifier="Modifier_GDIVehicleL_PowerMovementDelay_AIONLY">
					<GameDependency>
						<NeededUpgrade>Upgrade_EasyAISinglePlayer</NeededUpgrade>
					</GameDependency>
					<GameDependency>
						<NeededUpgrade>Upgrade_EasyAIMultiPlayer</NeededUpgrade>
					</GameDependency>
					<GameDependency>
						<NeededUpgrade>Upgrade_MediumAISinglePlayer</NeededUpgrade>
					</GameDependency>
					<GameDependency>
						<NeededUpgrade>Upgrade_MediumAIMultiPlayer</NeededUpgrade>
					</GameDependency>
					<GameDependency>
						<NeededUpgrade>Upgrade_HardAISinglePlayer</NeededUpgrade>
					</GameDependency>
					<GameDependency>
						<NeededUpgrade>Upgrade_HardAIMultiPlayer</NeededUpgrade>
					</GameDependency>
					<GameDependency>
						<NeededUpgrade>Upgrade_BrutalAIMultiPlayer</NeededUpgrade>
					</GameDependency>
				</RestrictedAttributeModifier>
			</SpecialPower>

			<AttackOffsetSpecialAbilityUpdate
				id="ModuleTag_AttackOffsetSpecialAbilityUpdate"
				SpecialPowerTemplate="SpecialPower_GDIVehicleLDepthCharges"
				PackTime="1s"
				StartRechargeOnExit="true">
				
				<!-- Front Close -->
				<OffsetDefinition
					WeaponTemplate="GDIVehicleLDepthChargeWeapon"
					WeaponSlotType="TERTIARY_WEAPON"
					WeaponSlotID="12"
					Delay="0.0s">
					<Offset
						x="40.0" 
						y="-40.0" />
				</OffsetDefinition>
				<OffsetDefinition
					WeaponTemplate="GDIVehicleLDepthChargeWeapon"
					WeaponSlotType="TERTIARY_WEAPON"
					WeaponSlotID="10"
					Delay="0.0s">
					<Offset
						x="40.0"
						y="40.0" />
				</OffsetDefinition>
				
				<!-- Rear Close -->
				<OffsetDefinition
					WeaponTemplate="GDIVehicleLDepthChargeWeapon"
					WeaponSlotType="TERTIARY_WEAPON"
					WeaponSlotID="13"
					Delay="0.2s">
					<Offset
						x="-40.0"
						y="-40.0" />
				</OffsetDefinition>
				<OffsetDefinition
					WeaponTemplate="GDIVehicleLDepthChargeWeapon"
					WeaponSlotType="TERTIARY_WEAPON"
					WeaponSlotID="11"
					Delay="0.2s">
					<Offset
						x="-40.0"
						y="40.0" />
				</OffsetDefinition>

				<!-- Front Far -->
				<OffsetDefinition
					WeaponTemplate="GDIVehicleLDepthChargeWeapon"
					WeaponSlotType="TERTIARY_WEAPON"
					WeaponSlotID="12"
					Delay="0.4s">
					<Offset
						x="90.0"
						y="-90.0" />
				</OffsetDefinition>
				<OffsetDefinition
					WeaponTemplate="GDIVehicleLDepthChargeWeapon"
					WeaponSlotType="TERTIARY_WEAPON"
					WeaponSlotID="10"
					Delay="0.4s">
					<Offset
						x="90.0"
						y="90.0" />
				</OffsetDefinition>

				<!-- Middle Far -->
				<OffsetDefinition
					WeaponTemplate="GDIVehicleLDepthChargeWeapon"
					WeaponSlotType="TERTIARY_WEAPON"
					WeaponSlotID="12"
					Delay="0.6s">
					<Offset
						y="-120.0" />
				</OffsetDefinition>
				<OffsetDefinition
					WeaponTemplate="GDIVehicleLDepthChargeWeapon"
					WeaponSlotType="TERTIARY_WEAPON"
					WeaponSlotID="10"
					Delay="0.6s">
					<Offset
						y="120.0" />
				</OffsetDefinition>

				<!-- Rear Far -->
				<OffsetDefinition
					WeaponTemplate="GDIVehicleLDepthChargeWeapon"
					WeaponSlotType="TERTIARY_WEAPON"
					WeaponSlotID="13"
					Delay="0.8s">
					<Offset
						x="-90.0"
						y="-90.0" />
				</OffsetDefinition>
				<OffsetDefinition
					WeaponTemplate="GDIVehicleLDepthChargeWeapon"
					WeaponSlotType="TERTIARY_WEAPON"
					WeaponSlotID="11"
					Delay="0.8s">
					<Offset
						x="-90.0"
						y="90.0" />
				</OffsetDefinition>				
				
			</AttackOffsetSpecialAbilityUpdate>
			<!-- //////////////////////////////////// -->
			<!-- //////////////////////////////////// -->

            <ModelConditionUpgrade
                id="ModuleTag_DepthChargesModelCondition"
                AddConditionFlags="USER_3">
                <TriggeredBy>Upgrade_GDIVehicleLDepthCharges</TriggeredBy>
            </ModelConditionUpgrade>

			<FXListBehavior
				  xmlns="uri:ea.com:eala:asset"
				  id="ModuleTag_FXListUpgrade">
				<TriggeredBy>Upgrade_GDIVehicleLDepthCharges</TriggeredBy>
				<DieMuxData DeathTypes="ALL" />
				<Event
					  Index="onUpgraded"
					  FX="FX_UpgradeGDIDepthCharges" />
			</FXListBehavior>

			<FXListBehavior
				  xmlns="uri:ea.com:eala:asset"
				  id="ModuleTag_FXListUpgrade2">
				<TriggeredBy>Upgrade_BackupSystems</TriggeredBy>
				<DieMuxData DeathTypes="ALL" />
				<Event
					  Index="onUpgraded"
					  FX="FX_UpgradeGDIBackupSystems" />
			</FXListBehavior>
            
      <!-- This will hide the upgraded model -->
      <LUAEventList
				id="ModuleTag_LUAEventList"
				EventListName="GDIVehicleLFunctions"/>

      <!-- This will unhide the upgraded model -->
      <SubObjectsUpgrade
				id="ModuleTag_ShowUpgrade">
        <TriggeredBy>Upgrade_Crate_Level1</TriggeredBy>
        <Nugget
					ShowSubObjects="Gun_Upgrade"
          HideSubObjects="gun"
					Upgrade="Upgrade_Crate_Level1"
          FadeTime="0.0s"
					SkipFlashOnCreate="false"
					UpgradeFlashShader="ShaderOverride_UpgradeFlash"
					FlashTime="1.5s"/>
      </SubObjectsUpgrade>

			<AttributeModifierUpgrade
				id="Upgrade_GDIVehicleLCrateUpgrade"
				AttributeModifier="Modifier_GDIVehicleLCrateUpgrade">
				<TriggeredBy>Upgrade_Crate_Level1</TriggeredBy>
			</AttributeModifierUpgrade>

			<xi:include
				href="DATA:Includes/FXListBehaviorCrateUpgradeLarge.xml" />

			<!-- This object creates a husk, so we replace the crate spawn module from base object -->
			<ChanceCreateObjectDie
				id="ModuleTag_CreateUpgradeObjectDie"
				CreationList="OCL_CrateSpawnOnDeathWithHusk">
			</ChanceCreateObjectDie>

		</Behaviors>
		<AI>
			<AIUpdate
				id="ModuleTag_AI"
				AutoAcquireEnemiesWhenIdle="YES"
				StateMachine="UnitAIStateMachine"
				WeaponSlotIDToUseInAttackPath="1">
				<UnitAITargetChooserData
					CanPickDynamicTargets="true"
					SympathyRange="100.0" />
			</AIUpdate>
		</AI>
		<Body>
			<ActiveBody
				id="ModuleTag_Body"
				MaxHealth="1800" />
		</Body>
		<Geometry>
			<Shape
					 Type= "BOX"
					 MajorRadius = "52.0"
					 MinorRadius = "21.07"
					 Height = "34.65"
					 ContactPointGeneration = "VEHICLE" >
				<Offset
						x = "0.483269"
						y = "0.0"
						z = "54.8175" />
			</Shape>
			<Shape
					 Type= "BOX"
					 MajorRadius = "32.5"
					 MinorRadius = "24.5"
					 Height = "55.0"
					 ContactPointGeneration = "VEHICLE" >
				<Offset
						x = "-9.28323"
						y = "0.0"
						z = "0.0" />
			</Shape>
		</Geometry>

		<ClientBehaviors>
			<ModelConditionSoundSelectorClientBehavior
			id="ModuleTag_HiJackedSounds">
				<Override
					RequiredFlags="REALLYDAMAGED" ExcludedFlags="HIJACKED">
					<AudioArrayVoice>
					<AudioEntry
						Sound="GDI_VehLMastodon_VoiceSelectUnderFireMS"
						AudioType="voiceSelect" />
					</AudioArrayVoice>
				</Override>
				<Override
					ExcludedFlags="HIJACKED">
					<AudioArrayVoice>
						<AudioEntry Sound="GDI_VehLMastodon_VoiceAttack" AudioType="voiceAttack" />
						<AudioEntry Sound="GDI_VehLMastodon_VoiceCreate" AudioType="voiceCreated" />
						<AudioEntry Sound="GDI_VehLMastodon_VoiceSelectMS" AudioType="voiceSelect" />
						<AudioEntry Sound="GDI_VehLMastodon_VoiceSelectBattleMS" AudioType="voiceSelectBattle" />
						<AudioEntry Sound="GDI_VehLMastodon_VoiceSelectUnderFireMS" AudioType="voiceSelectUnderFire" />
						<AudioEntry Sound="GDI_VehLMastodon_VoiceMove" AudioType="voiceMove" />
						<AudioEntry Sound="GDI_VehLMastodon_VoiceMoveAttack" AudioType="voiceAttackAfterMoving" />
						<AudioEntry Sound="GDI_VehLMastodon_VoiceMove" AudioType="voiceGuard" />
						<AudioEntry Sound="GDI_VehLMastodon_VoiceRetreat" AudioType="voiceRetreatToCastle" />
					</AudioArrayVoice>
				</Override>
			</ModelConditionSoundSelectorClientBehavior>
			<ModelConditionAudioLoopClientBehavior id="ModuleTag_VoicePowerRestored">
                        <ModelConditionSound Sound="GDI_VehLMastodon_VoicePowerRestored" RequiredFlags="USER_5" ExcludedFlags="RECYCLED DYING"/>
            </ModelConditionAudioLoopClientBehavior>

		<AnimationSoundClientBehavior
				id="ModuleTag_ASCB">
				<!-- <Sound Sound="BackUpSystemSciences_Start" Animation="GUVehicleL_GTPA" ExcludedMC="RECYCLED" Frame="1" /> moved to FXList -->
				<!--<Sound Sound="GDI_VehLMastodon_VoiceSciencesBackUpSystems" Animation="GUVehicleL_GTPA" ExcludedMC="RECYCLED" Frame="5" /> -->
				<Sound Sound="GDI_VehicleL_Footstep_Impact" Animation="GUVehicleL_GTPA" ExcludedMC="RECYCLED" Frame="35 57 75 92 115 126 138 153" />
				<Sound Sound="GDI_VehicleL_Servo_Start" Animation="GUVehicleL_GTPA" ExcludedMC="RECYCLED" Frame="14 66 79 118 146" />
				<Sound Sound="GDI_VehicleL_Servo_End" Animation="GUVehicleL_GTPA" ExcludedMC="RECYCLED" Frame="5" />     
				<Sound Sound="GDI_VehicleL_IdleMovement" Animation="GUVehicleL_GTPA" ExcludedMC="RECYCLED" Frame="79" />  

				<Sound Sound="GDI_VehicleL_Footstep_Impact" Animation="GUVehicleL_MOVA" ExcludedMC="RECYCLED" Frame="15 18 40 58 60 77 92 95 117 135 137 154" />
				<Sound Sound="GDI_VehicleL_Footstep_Impact" Animation="GUVehicleL_MOVD" ExcludedMC="RECYCLED" Frame="1 20 34 57 65 83 120" />
        		<Sound Sound="GDI_VehicleL_Footstep_Damaged" Animation="GUVehicleL_MOVD" ExcludedMC="RECYCLED" Frame="4 38 66 97" />      
				<Sound Sound="GDI_VehicleL_Servo_Start" Animation="GUVehicleL_MOVD" ExcludedMC="RECYCLED" Frame="6 66" />

				<Sound Sound="GDI_VehicleL_Footstep_Impact" Animation="GUVehicleL_MOVD2" ExcludedMC="RECYCLED" Frame="1 20 57 65 83 120" />
        		<Sound Sound="GDI_VehicleL_Footstep_Damaged" Animation="GUVehicleL_MOVD2" ExcludedMC="RECYCLED" Frame="4 38 66 97" />      
				<Sound Sound="GDI_VehicleL_Servo_Start" Animation="GUVehicleL_MOVD2" ExcludedMC="RECYCLED" Frame="28 66 89" />
				<Sound Sound="GDI_VehicleL_Servo_End" Animation="GUVehicleL_MOVD2" ExcludedMC="RECYCLED" Frame="123" />
				
				<Sound Sound="GDI_VehicleL_Footstep_Impact" Animation="GUVehicleL_TRNL" ExcludedMC="RECYCLED" Frame="13 37 47 66 82 85 94 103" />
				<Sound Sound="GDI_VehicleL_Footstep_Impact" Animation="GUVehicleL_TRNLW" ExcludedMC="RECYCLED" Frame="17 19 50 52" />
				<Sound Sound="GDI_VehicleL_Footstep_Impact" Animation="GUVehicleL_TRNR" ExcludedMC="RECYCLED" Frame="22 25 43 46 55 59 85 88 100 103" />
				<Sound Sound="GDI_VehicleL_Footstep_Impact" Animation="GUVehicleL_TRNRW" ExcludedMC="RECYCLED" Frame="14 20 55 64" />
				<!--
				<Sound Sound="GDI_VehicleL_Servo_Start" Animation="GUVehicleL_GTPA" ExcludedMC="RECYCLED" Frame="4 22 44 60 79 99 120 140" />
				<Sound Sound="GDI_VehicleL_Servo_Start" Animation="GUVehicleL_GTPA" ExcludedMC="RECYCLED" Frame="21 32 49" />
				<Sound Sound="GDI_VehicleL_Servo_End" Animation="GUVehicleL_GTPA" ExcludedMC="RECYCLED" Frame="5" />     
				-->
				<Sound Sound="GDI_VehicleL_IdleMovement" Animation="GUVehicleL_GTPA" ExcludedMC="RECYCLED" Frame="5" />     
				<Sound Sound="GDI_VehicleL_Animation_ABTA1" Animation="GUVehicleL_ABTA" ExcludedMC="RECYCLED" Frame="1" />     
				<Sound Sound="GDI_VehicleL_Animation_ABTA2" Animation="GUVehicleL_ABTA" ExcludedMC="RECYCLED" Frame="120" />     
				<Sound Sound="GDI_VehicleL_Animation_ABTA3" Animation="GUVehicleL_ABTA" ExcludedMC="RECYCLED" Frame="144" />     
				<Sound Sound="GDI_VehicleL_Animation_ABTA4" Animation="GUVehicleL_ABTA" ExcludedMC="RECYCLED" Frame="173" /> 
				<Sound Sound="GDI_VehicleL_Footstep_ImpactQuiet" Animation="GUVehicleL_ABTA" ExcludedMC="RECYCLED" Frame="31 79" />  
				
				<Sound Sound="GDI_VehicleL_Animation_BATA1" Animation="GUVehicleL_BATA" ExcludedMC="RECYCLED" Frame="1" />     
				<Sound Sound="GDI_VehicleL_Animation_BATA2" Animation="GUVehicleL_BATA" ExcludedMC="RECYCLED" Frame="27" /> 
				<Sound Sound="GDI_VehicleL_Footstep_ImpactQuiet" Animation="GUVehicleL_BATA" ExcludedMC="RECYCLED" Frame="10 28 39" />   
				<Sound Sound="GDI_VehicleL_Servo_Start" Animation="GUVehicleL_BATA" ExcludedMC="RECYCLED" Frame="11" />
				<Sound Sound="GDI_VehicleL_Servo_End" Animation="GUVehicleL_BATA" ExcludedMC="RECYCLED" Frame="20" />
			
				<Sound Sound="GDI_VehicleL_Footstep_Impact" Animation="GUVehicleL_DIEA" ExcludedMC="RECYCLED" Frame="31" />    
				<Sound Sound="GDI_VehicleL_Animation_DIEA1" Animation="GUVehicleL_DIEA" ExcludedMC="RECYCLED" Frame="1" /> 
				<Sound Sound="GDI_VehicleL_Animation_DIEA2" Animation="GUVehicleL_DIEA" ExcludedMC="RECYCLED" Frame="119" /> 
				
				<Sound Sound="GDI_VehicleL_Animation_DSEL" Animation="GUVehicleL_DSEL" ExcludedMC="RECYCLED" Frame="1" />   
			</AnimationSoundClientBehavior>
		</ClientBehaviors>
		
		<AudioArraySound>
			<AudioEntry Sound="Fire1_VehicleLarge_LoopMS" AudioType="soundAmbientReallyDamaged" />
			<AudioEntry
				Sound="GDI_VehicleL_MoveStart"
				AudioType="soundMoveStart" />
			<AudioEntry
				Sound="GDI_VehicleL_IdleLoop"
				AudioType="soundAmbient" />
			<AudioEntry
				Sound="GDI_VehicleL_MoveLoop"
				AudioType="soundMoveLoop" />
			<AudioEntry
				Sound="GDI_VehicleL_DamagedMoveLoop"
				AudioType="soundMoveLoopDamaged" />
		</AudioArraySound>
		<VisionInfo
			VisionRange="500"
			ShroudClearingRange="500" />
		<DisplayUpgrade>Upgrade_BackupSystems</DisplayUpgrade>
		<DisplayUpgrade>Upgrade_GDIVehicleLDepthCharges</DisplayUpgrade>
	</GameObject>

	<!-- ////////////////////////////////////////	-->
	<!--    WEAPONS									-->
	<!-- ////////////////////////////////////////	-->
	<WeaponTemplate
		id="GDIVehicleLSweepWeapon"
		AttackRange="500.0"
		MinimumAttackRange="100.0" 
		WeaponSpeed="1000"
		FireFX="FX_GDISonicBlast_Large_Fire"
		FireVeteranFX="FX_GDISonicBlast_Large_FireVet"
		FireStrongCounterFX="FX_GDISonicBlast_Large_FireVet"
		AcceptableAimDelta="1d"
		ClipSize="1"
		AutoReloadsClip="AUTO"
		Flags="ATTACK_NEEDS_LINE_OF_SIGHT CAN_FIRE_ON_GROUND"
		CanFireWhileMoving="true"
		RequiredAntiMask="ANTI_GROUND"
		RevealShroudOnFire="true"
		ReAcquireDetailType="PER_CLIP"
		WeaponCategory="BLAST">
		<FiringDuration
			MinSeconds="4.0s"
			MaxSeconds="4.0s" />
		<ClipReloadTime
			MinSeconds="1.0s"
			MaxSeconds="1.0s" />
		<Nuggets>
			<ActivateWeaponSweepNugget
				ModuleId="ModuleTag_WeaponSweep" />
		</Nuggets>
	</WeaponTemplate>

	<WeaponTemplate
		id="GDIVehicleLCannonWeapon"
		AttackRange="500.0"
		WeaponSpeed="1000"
		FireFX="FX_GDISonicBlast_Large_Fire_WithAudio"
		FireVeteranFX="FX_GDISonicBlast_Large_FireVet_WithAudio"
		ClipSize="4"
		AutoReloadsClip="AUTO"
		Flags="ATTACK_NEEDS_LINE_OF_SIGHT CAN_FIRE_ON_GROUND"
		CanFireWhileMoving="true"
		RequiredAntiMask="ANTI_GROUND"
		RevealShroudOnFire="true">
		<FiringDuration
			MinSeconds="0.8s"
			MaxSeconds="0.8s" />
		<ClipReloadTime
			MinSeconds="0.9s"
			MaxSeconds="0.9s" />
		<Nuggets>
			<ProjectileNugget
				WarheadTemplate="GDIVehicleLShellWarhead"
				ProjectileTemplate="GDISonicProjectile">
			</ProjectileNugget>
		</Nuggets>
	</WeaponTemplate>

	<WeaponTemplate
		id="GDIVehicleLShellWarhead"
		ProjectileCollidesWith="ALLIES ENEMIES NEUTRAL STRUCTURES WALLS"
		Flags="ATTACK_NEEDS_LINE_OF_SIGHT"
		RequiredAntiMask="ANTI_GROUND">
		<Nuggets>
			<DamageNugget
				Damage="80.0"
				Radius="60.0"
				DamageType="BLAST"
				DeathType="EXPLODED">
			</DamageNugget>
		</Nuggets>
	</WeaponTemplate>

	<WeaponTemplate
		id="GDIVehicleLRocketWeapon"
		inheritFrom="BaseRocketWeapon" 
		AttackRange="300.0"
		FireFX="FX_GDIVehicleLRocketFire"
		FireVeteranFX="FX_GDIVehicleLRocketFireVet"
		FireSound="GDI_VehicleL_WeaponFire2_Rockets"
		AcceptableAimDelta="90d"
		ClipSize="2"
		Flags="ATTACK_NEEDS_LINE_OF_SIGHT CAN_FIRE_ON_GROUND">
		<FiringDuration
			MinSeconds="0.1s"
			MaxSeconds="0.1s" />
		<ClipReloadTime
			MinSeconds="9.6s"
			MaxSeconds="9.6s" />
		<Nuggets>
			<ProjectileNugget
				WarheadTemplate="GDIVehicleLRocketWeaponWarhead"
				ProjectileTemplate="GDIVehicleLRocketWeaponProjectile">
				<VeterancyProjectiles
					VeterancyLevel="HEROIC"
					ProjectileTemplate="GDIVehicleLRocketWeaponProjectile_Veteran"/>
			</ProjectileNugget>
		</Nuggets>
	</WeaponTemplate>

	<WeaponTemplate
		id="GDIVehicleLRocketWeaponWarhead"
		RequiredAntiMask="ANTI_GROUND ANTI_AIRBORNE_VEHICLE ANTI_AIRBORNE_INFANTRY">
		<Nuggets>
			<DamageNugget
				Damage="40"
				Radius="10"
				DamageType="ROCKET"
				DamageFXType="GDI_MISSILE"
				DeathType="NORMAL">
			</DamageNugget>
		</Nuggets>
	</WeaponTemplate>

	<WeaponTemplate
		id="GDIVehicleLBuildingCollideWeapon"
		AttackRange="9999999"
		CanFireWhileMoving="true"
		RequiredAntiMask="ANTI_STRUCTURE">
		<PreAttackDelay
			MinSeconds="0.1s"
			MaxSeconds="0.1s" />
		<Nuggets>
			<DamageNugget
				Damage="30.0"
				Radius="0"
				DamageType="CRUSH"
				DamageFXType="GDI_MISSILE"
				DeathType="EXPLODED">
				<DamageScalarDetails Scalar= "500%">
					<Filter
						Rule="ANY"
						Include="CRAWLER" />
				</DamageScalarDetails>
			</DamageNugget>
		</Nuggets>
	</WeaponTemplate>

	<WeaponTemplate
		id="GDIVehicleLDepthChargeWeapon"
		WeaponSpeed="100"
		AttackRange="100"
		CanFireWhileMoving="true"
		ClipSize="1"
		FireFX="FX_GDI_VehicleL_DepthChargesFire"
		RadiusDamageAffects="ENEMIES NEUTRALS"
		ReAcquireDetailType="PRE_FIRE">
		<PreAttackDelay
			MinSeconds="0.0s"
			MaxSeconds="0.0s"/>
		<ClipReloadTime
			MinSeconds="8.0s"
			MaxSeconds="8.0s"/>
		<Nuggets>
			<ProjectileNugget
				WarheadTemplate="GDIVehicleLDepthChargeWarheadWeapon"
				ProjectileTemplate="GDIVehicleLDepthChargeWeaponProjectile"/>
		</Nuggets>
	</WeaponTemplate>

	<WeaponTemplate
		id="GDIVehicleLDepthChargeWarheadWeapon"
		RadiusDamageAffects="ENEMIES NEUTRALS"
		RequiredAntiMask="ANTI_GROUND">
		<Nuggets>
			<DamageNugget
				Damage="300.0"
				Radius="50.0"
				DelayTimeSeconds="0.5s"
				DamageType="BLAST"
				DamageFXType="GDI_MISSILE"
				DeathType="EXPLODED">
			</DamageNugget>
		</Nuggets>
	</WeaponTemplate>

	<!-- ////////////////////////////////////////	-->
	<!--   LOGIC COMMANDS AND COMMAND SET					-->
	<!-- ////////////////////////////////////////	-->
	<LogicCommandSet
		id="GDIVehicleLCommandSet">
		<Cmd>Command_AttackMove</Cmd>
		<Cmd>Command_Stop</Cmd>
		<Cmd>Command_GDIVehicleLDepthCharges</Cmd>
	</LogicCommandSet>

	<LogicCommand
		Type="SPECIAL_POWER"
		id="Command_GDIVehicleLDepthCharges">
		<SpecialPower>SpecialPower_GDIVehicleLDepthCharges</SpecialPower>
		<AISpecialPower Manager="MICRO_MANAGER">
			<SpecialPowerWeapon
				Weapon="GDIVehicleLDepthChargeWeapon"
				TotalValueGreaterThan="1"/>
			<AISpecialPowerInfo	
				Heuristic="AOE_ATTACK"
				PowerEffectRadiusOverride="200"
				NeverUseWhileRetreating="true"
				NeverUseWhilePullingBack="true" />
			<!-- NOTE: Technically this is a little bit less ~177, but we want to skew the calculation to use the power (because it is strong)-->
		</AISpecialPower>
	</LogicCommand>

	<!-- //////////////////////////////////////	-->
	<!--		SPECIAL POWER TEMPLATES							-->
	<!-- //////////////////////////////////////	-->
	<SpecialPowerTemplate
		id="SpecialPower_GDIVehicleLDepthCharges"
		ReloadTime="60s"
		TargetType="NONE"
		WaypointModeTerminal="false">
		<GameDependency>
			<NeededUpgrade>Upgrade_GDIVehicleLDepthCharges</NeededUpgrade>
		</GameDependency>
	</SpecialPowerTemplate>



	<!-- ////////////////////////////////////////	-->
	<!--   OBJECT CREATION LISTS									-->
	<!-- ////////////////////////////////////////	-->

	<!-- this OCL plays when the vehicle is sent into the junkyard -->
	<ObjectCreationList
		id="OCL_GDIVehicleLDebris">
		<OCLModule>
			<Modules>
				<ObjectList>
					<ObjectTemplate>GDIVehicleL_Collapse</ObjectTemplate>
					<ObjectTemplate>GDIDebrisLarge_Collapse</ObjectTemplate>
					<ObjectOffset />
					<ObjectOffset />
					<SubModules>
						<CreateObject/>
						<SetLifetime
							MinLifetime="1.0s"
							MaxLifetime="3.0s"/>
						<FlingObject
							MinForceMagnitude="10.0"
							MaxForceMagnitude="20.0"
							MinForcePitch="90d"
							MaxForcePitch="75d"/>
					</SubModules>
				</ObjectList>
			</Modules>
		</OCLModule>
	</ObjectCreationList>
	<ObjectCreationList
		id="OCL_GDIVehicleLDie">
		<OCLModule>
			<Modules>
				<!-- Kick unit off of SkirmishAI teams when dead; immobile husk can confuse team -->
				<SetTeam
					ChangeSkirmishAITeamToDefaultSkirmishTeam="true"
					SetToDefaultNeutralTeam="false" />
				<SetTimedModelCondition
					ModelCondition="USER_2"
					Duration="6.2s"/>
				<!-- This status is set on creation and removed via lua script from the husk when buildability is restored -->
				<SetStatus Status="CANNOT_PROVIDE_BUILDABILITY"/>
				<CreateObject
					ObjectTemplate="GDIVehicleLHusk"/>
				<CopyParentExperience/>
				<CopyParentLayer/>
				<CopyParentUpgrades/>
				<SetHealth
					MinHealth="50%"
					MaxHealth="50%"/>
				<SetInvulnerable
					Duration="4.0s"/>
			</Modules>
		</OCLModule>
		<OCLModule>
			<Modules>
				<ObjectList>
					<ObjectTemplate>GDIDebrisMedium_Collapse</ObjectTemplate>
					<ObjectOffset x="0.0" y="0.0" z="0.0" />
					<SubModules>
						<CreateObject/>
						<SetLifetime
							MinLifetime="1.0s"
							MaxLifetime="3.0s"/>
						<FlingObject
							MinForceMagnitude="2.0"
							MaxForceMagnitude="7.0"
							MinForcePitch="90d"
							MaxForcePitch="75d"/>
					</SubModules>
				</ObjectList>
			</Modules>
		</OCLModule>
	</ObjectCreationList>

	<!-- If the user does NOT have the backup systems, then we spawn the husk on the neutral team -->
	<ObjectCreationList
		id="OCL_GDIVehicleLDieNoBackup">
		<OCLModule>
			<Modules>
				<SetTeam />
				<SetTimedModelCondition
					ModelCondition="USER_2"
					Duration="6.2s"/>
				<!-- This status is set on creation and removed via lua script from the husk when buildability is restored -->
				<SetStatus Status="CANNOT_PROVIDE_BUILDABILITY"/>
				<CreateObject
					ObjectTemplate="GDIVehicleLHusk"/>
				<CopyParentExperience/>
				<CopyParentLayer/>
				<CopyParentUpgrades/>
				<SetHealth
					MinHealth="50%"
					MaxHealth="50%"/>
				<SetInvulnerable
					Duration="4.0s"/>
			</Modules>
		</OCLModule>
		<OCLModule>
			<Modules>
				<ObjectList>
					<ObjectTemplate>GDIDebrisMedium_Collapse</ObjectTemplate>
					<ObjectOffset x="0.0" y="0.0" z="0.0" />
					<SubModules>
						<CreateObject/>
						<SetLifetime
							MinLifetime="1.0s"
							MaxLifetime="3.0s"/>
						<FlingObject
							MinForceMagnitude="2.0"
							MaxForceMagnitude="7.0"
							MinForcePitch="90d"
							MaxForcePitch="75d"/>
					</SubModules>
				</ObjectList>
			</Modules>
		</OCLModule>
	</ObjectCreationList>

	<ObjectCreationList
		id="GDIVehicleLHuskReplace">
		<OCLModule>
			<Modules>
				<ClearRemovables/>
				<SetTimedModelCondition
					ModelCondition="USER_5"
					Duration="5.0s"/>
				<CreateObject
					ObjectTemplate="GDIVehicleL"
					DisableScoring="true"/>
				<SetBusyState
					Duration="5.0s"
					DisableWhileBusy="true"/>
				<CopyParentExperience/>
				<CopyParentLayer/>
				<CopyParentUpgrades/>
				<SetHealthToParentPercent/>
				<SetStatus
					Status="NO_EXPERIENCE_LEVEL_ON_CREATTION"/>
			</Modules>
		</OCLModule>
	</ObjectCreationList>

	<!-- ////////////////////////////////////////	-->
	<!--   LOCOMOTORS															-->
	<!-- ////////////////////////////////////////	-->
	<LocomotorTemplate
		id="GDIVehicleLLocomotor"
		Surfaces="GROUND CRUSHABLE_OBSTACLE"
		TurnTimeSeconds="4.0s"
		TurnTimeDamagedSeconds="4.0s"
		MaxSpeedDamaged="100%"
		AccelerationSeconds="1.0s"
		BrakingSeconds="0.5s"
		SlowTurnRadius="0.0"
		FastTurnRadius="80.0"
		BehaviorZ="NO_MOTIVE_FORCE"
		Appearance="TREADS"
		UseTerrainSmoothing="true"
		AccelPitchLimit="2d"
		PitchStiffness="0.5"
		RollStiffness="0.5"
		PitchDamping="0.8"
		RollDamping="0.3"
		ForwardAccelerationPitchFactor="0.0"
		LateralAccelerationRollFactor="0.0"
		CanReverseMove="true"
		ClampOrientationToPathTangent="true"
		ReorientIfTurnTooSharp="true"	/>

	<!-- ////////////////////////////////////////	-->
	<!--   EXPERIENCE LEVELS											-->
	<!-- ////////////////////////////////////////	-->
	<ExperienceLevelTemplate
		id="GDIVehicleLExperienceLevel_1"
		inheritFrom="ExperienceLevelTemplate_GDI_Rank_01"
		ExperienceAward="12">
		<Target>GDIVehicleL</Target>
	</ExperienceLevelTemplate>
	<ExperienceLevelTemplate
		id="GDIVehicleLExperienceLevel_2"
		inheritFrom="ExperienceLevelTemplate_GDI_Rank_02"
		Prerequisite="GDIVehicleLExperienceLevel_1"
		RequiredExperience="24"
		ExperienceAward="14">
		<Target>GDIVehicleL</Target>
	</ExperienceLevelTemplate>
	<ExperienceLevelTemplate
		id="GDIVehicleLExperienceLevel_3"
		inheritFrom="ExperienceLevelTemplate_GDI_Rank_03"
		Prerequisite="GDIVehicleLExperienceLevel_2"
		RequiredExperience="60"
		ExperienceAward="16">
		<Target>GDIVehicleL</Target>
	</ExperienceLevelTemplate>
	<ExperienceLevelTemplate
		id="GDIVehicleLExperienceLevel_4"
		inheritFrom="ExperienceLevelTemplate_GDI_Rank_04"
		Prerequisite="GDIVehicleLExperienceLevel_3"
		RequiredExperience="108"
		ExperienceAward="18">
		<Target>GDIVehicleL</Target>
	</ExperienceLevelTemplate>

	<!-- ////////////////////////////////////////	-->
	<!--   ATTRIBUTE MODIFIERS										-->
	<!-- ////////////////////////////////////////	-->
	<AttributeModifier
		id="Modifier_GDIVehicleLCrateUpgrade"
		Category="NONE">
		<Modifier Type="DAMAGE_MULT" Value="125%" />
		<Modifier Type="AREA_OF_EFFECT" Value="100%" />
	</AttributeModifier>

	<!-- Stop the AI from trying to move this unit during its interruptable ability-->
	<AttributeModifier
		id="Modifier_GDIVehicleL_PowerMovementDelay_AIONLY"
		Category="NONE"
		Duration="1s"
		ObjectStatusToSet="IGNORE_AI_COMMAND" />
	
</AssetDeclaration>
